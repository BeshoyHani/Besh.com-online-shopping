<%- include('parts/header')%>
<%- include('parts/navbar')%>

<div class="container text-center mt-3 col d-flex justify-content-center">

  <div class="card w-50" style="width: 18rem;">
    <div class="card-body">
      <h3 class="card-title bg-light text-primary py-2">Add new Item</h3>

      <form action="/admin/add" method="POST" enctype="multipart/form-data">

        <div class="mb-3 row">
          <div class="col-sm-10">
            <input type="text" name="name" class="form-control"  placeholder="Name">
          </div>
        </div>
        <%
          let nameErrors = validationErrors.find(err => err.param === 'name');
          if(nameErrors){
        %>
            <div class="alert alert-danger">
              <%=nameErrors.msg%>
            </div>
           <% } %>


        <div class="mb-3 row">
          <div class="col-sm-10">
            <input type="text" name="price" class="form-control" placeholder="Price">
          </div>
        </div>
        <%
          let priceError = validationErrors.find(err => err.param === 'price');
          if(priceError){
        %>
            <div class="alert alert-danger">
              <%=priceError.msg%>
            </div>
           <% } %>


        <div class="mb-3 row">
        <div class="col-sm-10">
            <textarea rows="4" name="description"  class="form-control" placeholder="Description"></textarea>
        </div>
        </div>
        <%
        let descriptionError = validationErrors.find(err => err.param === 'description');
        if(descriptionError){
        %>
            <div class="alert alert-danger">
            <%=descriptionError.msg%>
            </div>
            <% } %>

        
        <div class="mb-3 row">
            <div class="col-sm-10">
            <select class="form-select" name="category">
                <option selected disabled>category</option>
                <option value="clothes">Clothes</option>
                <option value="phones">Phones</option>
                <option value="computers-laptops">Computers and Laptops</option>
                
            </select> 
            </div>
        </div>

            <div class="mb-3 row">
                <div class="col-sm-10">
                  <input type="file" accept="image/*" name="image" class="form-control">
                </div>
              </div>
              <%
                let imageError = validationErrors.find(err => err.param === 'image');
                if(imageError){
              %>
                  <div class="alert alert-danger">
                    <%=imageError.msg%>
                  </div>
                 <% } %>

        <input type="submit" value="Add" class="btn btn-primary">
      </form>

    </div>
  </div>
</div>
<%- include('parts/footer')%>